# Project Structure

## Repository Overview

```
dekay2001.github.io/
├── _config.yml                 # Jekyll configuration
├── _data/                      # Site data (navigation, etc.)
├── _includes/                  # Reusable HTML components
├── _layouts/                   # Page templates
├── _posts/                     # Blog posts (YYYY-MM-DD-title.md)
├── src/                        # TypeScript source (EDIT HERE!)
│   ├── base/                   # Core functionality
│   │   ├── displayables.ts
│   │   └── models.ts
│   ├── yoga/                   # Yoga sequence player
│   │   ├── main.ts
│   │   └── play-sequence.ts
│   ├── blog-search.ts
│   └── playground.ts
├── assets/
│   ├── css/                    # Stylesheets
│   ├── data/                   # JSON data files
│   ├── images/                 # Images
│   ├── js/                     # Compiled JavaScript (AUTO-GENERATED!)
│   │   ├── base/
│   │   └── yoga/
│   └── videos/
├── test/
│   └── unit/                   # TypeScript tests (.test.ts)
├── blog/
│   └── index.html              # Blog listing page
├── playground/
│   └── index.html              # Experimental area
├── resume/
│   └── index.md                # Resume content
├── yoga/
│   └── index.html              # Yoga sequences page
├── index.md                    # Home page
├── package.json                # Node dependencies
├── tsconfig.json               # TypeScript configuration
└── Gemfile                     # Ruby dependencies
```

---

## File Naming Conventions

| Type | Pattern | Example |
|------|---------|---------|
| Blog Post | `YYYY-MM-DD-title.md` | `2025-12-12-typescript-migration.md` |
| TypeScript Source | `*.ts` in `src/` | `src/base/models.ts` |
| Test File | `*.test.ts` | `models.test.ts` |
| Layout | `*.html` | `default.html`, `post.html` |
| Include | `*.html` | `footer.html`, `navheader.html` |
| Data | `*.json` or `*.yml` | `navigation.yml`, `primary-series.json` |

---

## Special Sections

### Yoga Section
- **Location**: `/yoga/`
- **Data**: JSON files in `assets/data/yoga/`
- **JavaScript**: Compiled from `src/yoga/main.ts` and `src/yoga/play-sequence.ts`
- **Features**: Interactive sequences with automated playback
- **Key Files**:
  - `main.ts` - Entry point for yoga page
  - `play-sequence.ts` - Sequence player logic (470 lines)
  - `displayables.ts` - Display system with observer pattern

### Blog Section
- **Location**: `/blog/`
- **Posts**: Markdown files in `_posts/`
- **Pagination**: 4 posts per page
- **Topics**: Personal reflections, tech, yoga/philosophy
- **Layout**: `post.html`
- **Search**: Client-side search via `blog-search.ts`
- **Date Range**: Posts dating back to 2019

### Playground Section
- **Location**: `/playground/`
- **Purpose**: Experimental/demo area
- **JavaScript**: Compiled from `src/playground.ts`
- **Features**: Testing and development of yoga features

### Resume Section
- **Location**: `/resume/`
- **Content**: Markdown-based (`resume/index.md`)
- **Layout**: Custom `resume.html`
- **CSS**: Separate responsive stylesheet (`responsive-resume.css`)

---

## Critical Directories

### `src/` - TypeScript Source (EDIT HERE!)
- **Purpose**: All TypeScript source code
- **Subdirectories**:
  - `base/` - Core functionality (models, displayables)
  - `yoga/` - Yoga sequence player
- **Compiled to**: `assets/js/`
- **⚠️ NEVER edit `assets/js/` directly!**

### `assets/js/` - Compiled JavaScript (AUTO-GENERATED!)
- **Purpose**: Compiled TypeScript output
- **Generated by**: `npm run build`
- **Served by**: Jekyll to browser
- **Includes**: `.js`, `.js.map` (source maps), `.d.ts` (type declarations)
- **⚠️ DO NOT EDIT - Changes will be overwritten!**

### `test/unit/` - TypeScript Tests
- **Purpose**: Jest tests for TypeScript code
- **Naming**: `*.test.ts`
- **Structure**: Mirrors `src/` directory structure
- **Import from**: TypeScript source (`src/`), not compiled output

### `_posts/` - Blog Posts
- **Purpose**: Blog post content
- **Format**: Markdown with YAML front matter
- **Naming**: `YYYY-MM-DD-title-with-dashes.md`
- **Required front matter**: layout, title, date

### `_layouts/` - Page Templates
- **Purpose**: HTML templates for different page types
- **Key layouts**:
  - `default.html` - Home page
  - `post.html` - Blog posts
  - `resume.html` - Resume page
- **Uses**: Liquid templating

### `_includes/` - Reusable Components
- **Purpose**: Small, reusable HTML snippets
- **Key includes**:
  - `navheader.html` - Navigation menu
  - `footer.html` - Site footer
  - `mainpic.html` - Hero image
- **Usage**: `{% include filename.html %}`

---

## Configuration Files

### `_config.yml`
- **Purpose**: Jekyll site-wide settings
- **Contains**: title, description, theme, pagination
- **Note**: Changes require Jekyll restart

### `tsconfig.json`
- **Purpose**: TypeScript compiler configuration
- **Target**: ES2020
- **Module**: ES6
- **Strict mode**: Enabled
- **Output**: `assets/js/`

### `package.json`
- **Purpose**: Node.js dependencies and scripts
- **Scripts**:
  - `build` - Compile TypeScript once
  - `build:watch` - Auto-compile on save
  - `test` - Run Jest tests

### `Gemfile`
- **Purpose**: Ruby/Jekyll dependencies
- **Key gems**: github-pages, webrick
